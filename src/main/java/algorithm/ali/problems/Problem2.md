题目: 在机器上有一个大小不超过1M的配置文件，同时有多个进程会对其进行读写操作（读写比例为 3:1 ），不通过任何锁的形式，请设计程序实现 多进程安全读写该文件

不知道具体该怎么做，只有些想法。

1. 如果允许单独创建进程的话，可以创建一个守护进程，它从一个 Queue 中获取读写请求然后顺序处理，对文件的操作仅由此进程负责，其他进程不直接操作文件而是把消息发到进程对应的 Queue 中，题目要求无锁，可以选用无锁队列。

2. 假如不允许单独起进程，在不使用锁的情况下，可以使用操作系统打开文件的 O_APPEND mode, 该 mode 下打开并写入文件(seek, write) 两个操作可以原子的完成，它也是不需要锁的。只不过该模式下数据只能追加到文件的末尾，对于题目的配置文件可能不太合适。但是也不是不能做，对配置文件的修改可以以追加的形式放到配置文件的末尾，这样进程在读配置文件后需要做一个预处理，那就是把修改应用到配置文件上。

